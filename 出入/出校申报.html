<!DOCTYPE html>
<!-- saved from url=(0123)https://gdjrxy.github.io/gduf_io/student-index.html?studentName=%E6%9E%97%E8%89%BA&studentId=181941222&studentSex=%E5%A5%B3 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>出校申报</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <link rel="stylesheet" href="./出校申报_files/mui.min.css">
    <link rel="stylesheet" type="text/css" href="./出校申报_files/app.css">
    <style>
        .footerBtnBox {
            padding: 10px;
            height: 54px;
        }

        .mui-card-footer.footerBtnBox .mui-card-link {
            text-align: center;
            background: #3a96fa;
            width: 49%;
            display: block;
            color: #fff;
            border-radius: 5px;
            line-height: 34px;
            height: 34px;
            transition: all 0.3s;
        }

        .mui-card-footer.footerBtnBox .mui-card-link:last-child {
            background: #EA5628
        }

        .mui-card-footer.footerBtnBox .mui-card-link:last-child:active {
            background: #CF2D28
        }

        .mui-card-footer.footerBtnBox .mui-card-link:active {
            background: #007AFF;
        }
    </style>
</head>

<body>
<div class="mui-content" id="outSchoolBox" style="padding-bottom: 45px;"><div class="mui-card"><div class="mui-card-header">申请编号：2022030564229</div><div class="mui-card-content"><div class="mui-card-content-inner"><div>姓<span style="visibility: hidden;">空空</span>名：林艺</div><div>学<span style="visibility: hidden;">空空</span>号：181941216</div><div>开始时间：2022-03-02</div><div>结束时间：2022-03-07</div><div>外出类型：实习 </div><div>涉及天数：4天</div><div>出入次数：共一次出入</div><div>状<span style="visibility: hidden;">空空</span>态：<font color="green">审批通过</font></div><div>提交时间：2022-03-02 06:51:28</div></div></div><div class="mui-card-footer footerBtnBox"><a class="mui-card-link" href="出校申报详情.html?studentName=林艺&amp;studentId=181941216&amp;studentSex=女">详情</a><a class="mui-card-link" style="background:#eee;color:#999">取消</a></div></div></div>
<div class="mui-content" id="outSchoolBox" style="padding-bottom: 45px;"><div class="mui-card"><div class="mui-card-header">申请编号：2022030564229</div><div class="mui-card-content"><div class="mui-card-content-inner"><div>姓<span style="visibility: hidden;">空空</span>名：林艺</div><div>学<span style="visibility: hidden;">空空</span>号：181941216</div><div>开始时间：2022-03-02</div><div>结束时间：2022-03-07</div><div>外出类型：实习 </div><div>涉及天数：4天</div><div>出入次数：共一次出入</div><div>状<span style="visibility: hidden;">空空</span>态：<font color="green">审批通过</font></div><div>提交时间：2022-03-02 06:51:28</div></div></div><div class="mui-card-footer footerBtnBox"><a class="mui-card-link" href="https://gdjrxy.github.io/gduf_io/student-detail.html?studentName=%E6%9E%97%E8%89%BA&amp;studentId=181941222&amp;studentSex=%E5%A5%B3">详情</a><a class="mui-card-link" style="background:#eee;color:#999">取消</a></div></div></div>



    <nav class="footerNav">
        <button class="whiteBtn"><span class="mui-icon mui-icon-more"></span>
            <span>申请记录</span></button>
        <button><span class="mui-icon mui-icon-compose"></span>
            <span>出校申报</span></button>
    </nav>

    <script src="./出校申报_files/mui.min.js.下载"></script>
    <script src="./出校申报_files/jquery.min.js.下载"></script>
    <script src="./出校申报_files/common.js.下载"></script>

    <script>
        function getParam() {
            var url = location.search; //获取url中"?"符后的字串
            var info = new Object();
            if (url.indexOf("?") != -1) {
                var str = url.substr(1);
                strs = str.split("&");
                for (var i = 0; i < strs.length; i++) {
                    if (strs[i].indexOf("studentName=") != -1) {
                        info['studentName'] = decodeURIComponent(strs[i].replace("studentName=", ""));
                    };
                    if (strs[i].indexOf("studentId=") != -1) {
                        info['studentId'] = decodeURIComponent(strs[i].replace("studentId=", ""));
                    };
                    if (strs[i].indexOf("studentSex=") != -1) {
                        info['studentSex'] = decodeURIComponent(strs[i].replace("studentSex=", ""));
                    };
                };
                return info;
            } else {
                info = { 'studentName': '林艺', 'studentId': '181941216', 'studentSex': '女' }
                return info;
            }
        }

        (function (mui) {
            mui.init();
            getMyOutSchool();
        })(mui);

        function getMyOutSchool(result) {
            var randomNum = '';
            for (var i = 0; i < 5; i++) {
                randomNum += Math.floor(Math.random() * 10);
            }
            var result = {
                "msg": "查询成功",
                "data": [
                    {
                        "outSchoolID": new Date().Format("yyyyMMdd" + randomNum),
                        "studentID": getParam()["studentId"],
                        "sex": getParam()["studentSex"],
                        "name": getParam()["studentName"],
                        "submitDate": new Date(new Date().getTime() - 14400000).Format("yyyy/MM/dd hh:mm:ss"),
                        "passNum": "共一次出入",
                        "days": "1",
                        "status": "1",
                        "otherOutType": "",
                        "outType": "拿快递（一小时有效）",
                        "startDate": new Date().Format("yyyy/MM/dd hh:mm:ss"),
                        "endDate": new Date(new Date().getTime() + 259200000).Format("yyyy/MM/dd hh:mm:ss")
                    }
                ],
                "code": 0
            };
            var html = '';
            for (var i = 0; i < result.data.length; i++) {
                html += '<div class="mui-card">';
                html += '<div class="mui-card-header">申请编号：' + result.data[i].outSchoolID + '</div>';
                html += '<div class="mui-card-content">';
                html += '<div class="mui-card-content-inner">';
                html += '<div>姓<span style="visibility: hidden;">空空</span>名：' + result.data[i].name + '</div>';
                html += '<div>学<span style="visibility: hidden;">空空</span>号：' + result.data[i].studentID + '</div>';
                html += '<div>开始时间：' + new Date(result.data[i].startDate).Format("yyyy-MM-dd") + '</div>';
                html += '<div>结束时间：' + new Date(result.data[i].endDate).Format("yyyy-MM-dd") + '</div>';
                html += '<div>外出类型：' + result.data[i].outType + " " + result.data[i].otherOutType + '</div>';
                html += '<div>涉及天数：' + result.data[i].days + '天</div>';
                html += '<div>出入次数：' + result.data[i].passNum + '</div>';
                html += '<div>状<span style="visibility: hidden;">空空</span>态：' + formatStatus(result.data[i]) + '</div>';
                html += '<div>提交时间：' + new Date(result.data[i].submitDate).Format("yyyy-MM-dd hh:mm:ss") + '</div>';
                html += '</div>';
                html += '</div>';
                html += '<div class="mui-card-footer footerBtnBox">';
                html += '<a class="mui-card-link" href="出校申报详情.html?studentName=' + getParam()['studentName'] + "&studentId=" + getParam()['studentId'] + "&studentSex=" + getParam()['studentSex'] + '">详情</a>';
                if (result.data[i].status == 0)
                    html += '<a class="mui-card-link" >取消</a>';
                else {
                    html += '<a class="mui-card-link" style="background:#eee;color:#999">取消</a>';
                }
                html += '</div>';
                html += '</div>';
            }
            if (html == '')
                html = '<div class="msgBox">无任何记录</div>';
            $("#outSchoolBox").html(html);
        }

        function formatStatus(item) {
            if (item.status == "0")
                return "审批中";
            if (item.status == "1")
                return item.outType == "临时出校（一天仅一次）" ? "<font color=green>报备完成</font>" : "<font color=green>审批通过</font>";
            if (item.status == "2")
                return "<font color=red>审批拒绝</font>";
            if (item.status == "3")
                return "<font color=orange>需补正</font>";
            return s;
        }
    </script>


</body></html>